name: 'Build and Push Docker'
description: 'A GitHub Action that will build a docker file and push it to an acr'
inputs:
  azure_credentials:
    description: 'Credentials to login into azure'
    required: true
  acr_endpoint:
    description: 'ACR endpoint'
    required: true
  dockerbuild_path:
    description: 'Path for the dockerfile'
    default: "."
  dockerbuild_repo:
    description: 'Repo inside the container registry'
    required: true
  dockerbuild_tag:
    description: 'Tag for the docker image'
    default: "latest"
  dockerbuild_args:
    description: 'Args for the docker buils. Type: Map'
    required: true
    default: '{}'
runs:
  using: 'docker'
  image: 'Dockerfile'
